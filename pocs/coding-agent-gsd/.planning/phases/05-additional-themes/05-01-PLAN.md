---
phase: 05-additional-themes
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [js/themes.js, admin.html]
autonomous: false

must_haves:
  truths:
    - "Player can select Minimalist theme and see clean color palette"
    - "Player can select High Contrast theme with strong color differentiation"
    - "Admin panel theme dropdown lists 5 themes"
    - "Theme changes during gameplay apply instantly without visual glitches"
  artifacts:
    - path: "js/themes.js"
      provides: "Minimalist and High Contrast theme definitions"
      contains: "minimalist:"
      min_lines: 70
    - path: "admin.html"
      provides: "Theme selector with all 5 themes"
      contains: 'value="minimalist"'
      min_lines: 185
  key_links:
    - from: "admin.html"
      to: "THEMES object"
      via: "radio button value attribute"
      pattern: 'name="theme" value="(minimalist|highcontrast)"'
    - from: "js/themes.js"
      to: "THEME_ORDER array"
      via: "array entries"
      pattern: "THEME_ORDER.*minimalist.*highcontrast"
---

<objective>
Add two new accessible themes to the existing theme system.

Purpose: Provide visual variety and accessibility options for players without changing any game mechanics or rendering logic.
Output: 5 total themes available in admin panel theme selector (Classic, Neon, Retro, Minimalist, High Contrast).
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@./js/themes.js
@./admin.html
</context>

<tasks>

<task type="auto">
  <name>Add Minimalist and High Contrast themes to themes.js</name>
  <files>js/themes.js</files>
  <action>
Add two new theme objects to the THEMES constant:

1. Minimalist theme:
   - Clean, simple color palette with subtle contrast
   - Background: light gray (#f5f5f5)
   - Grid: medium gray (#d0d0d0)
   - Sidebar: lighter gray (#e8e8e8)
   - Piece colors: muted pastels (soft blues, greens, oranges)
   - Design goal: clean, professional, easy on eyes

2. High Contrast theme:
   - Strong color differentiation for accessibility
   - Background: pure black (#000000)
   - Grid: white (#ffffff)
   - Sidebar: dark gray (#1a1a1a)
   - Piece colors: bright, saturated primary colors with maximum contrast against black
   - Design goal: WCAG AAA contrast ratios for all pieces

Update THEME_ORDER array to include both new themes: ['classic', 'neon', 'retro', 'minimalist', 'highcontrast']

Keep existing applyTheme function unchanged - it already handles any theme in THEMES object.
  </action>
  <verify>grep -E "(minimalist|highcontrast)" js/themes.js && grep "THEME_ORDER.*minimalist.*highcontrast" js/themes.js</verify>
  <done>js/themes.js contains 5 theme objects with THEME_ORDER listing all 5 themes</done>
</task>

<task type="auto">
  <name>Add new theme radio buttons to admin panel</name>
  <files>admin.html</files>
  <action>
In the Theme section radio-group div (lines 114-127), add two new radio button labels after the existing three:

4. Minimalist radio button:
   - input type="radio" name="theme" value="minimalist"
   - Label text: "Minimalist"

5. High Contrast radio button:
   - input type="radio" name="theme" value="highcontrast"
   - Label text: "High Contrast"

Follow the exact HTML structure of existing radio buttons. Keep "classic" as checked by default. The existing admin.js already handles theme changes via BroadcastChannel, no JS changes needed.
  </action>
  <verify>grep -c 'input type="radio" name="theme"' admin.html</verify>
  <done>admin.html contains 5 theme radio buttons, all properly labeled</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Two new themes (Minimalist and High Contrast) added to existing theme system with admin panel integration</what-built>
  <how-to-verify>
1. Open index.html in browser (player view)
2. Open admin.html in new tab (admin view)
3. In admin panel, verify theme selector shows 5 options: Classic, Neon, Retro, Minimalist, High Contrast
4. Select Minimalist theme - verify player view updates instantly with clean light gray palette
5. Select High Contrast theme - verify player view updates instantly with black background and high-contrast colors
6. Start game, drop a few pieces in each new theme to confirm piece colors are distinct and rendering is clean
7. Test theme switching during active gameplay (pieces falling) - confirm no visual glitches or rendering artifacts
8. Verify all 7 piece types (I, O, T, S, Z, J, L) are visually distinct in both new themes
  </how-to-verify>
  <resume-signal>Type "approved" if all 5 themes work correctly, or describe any visual issues</resume-signal>
</task>

</tasks>

<verification>
Run these checks to confirm completion:

```bash
# Verify 5 themes in themes.js
grep -c "name:" js/themes.js  # Should output: 5

# Verify THEME_ORDER has 5 entries
grep "THEME_ORDER" js/themes.js  # Should show array with 5 theme names

# Verify admin.html has 5 radio buttons
grep -c 'name="theme"' admin.html  # Should output: 5

# Verify new theme values exist
grep 'value="minimalist"' admin.html
grep 'value="highcontrast"' admin.html
```

Manual verification:
- Open player and admin in separate tabs
- Cycle through all 5 themes via admin panel
- Confirm each theme applies instantly
- Confirm piece colors are distinct in all themes
</verification>

<success_criteria>
- js/themes.js contains 5 complete theme objects (classic, neon, retro, minimalist, highcontrast)
- THEME_ORDER array lists all 5 themes
- admin.html displays 5 radio buttons in theme selector
- Minimalist theme uses clean light gray palette with subtle piece colors
- High Contrast theme uses pure black background with bright saturated piece colors
- Theme changes apply instantly when selected in admin panel
- All 7 piece types are visually distinct in both new themes
- No visual glitches occur when switching themes during active gameplay
</success_criteria>

<output>
After completion, create `.planning/phases/05-additional-themes/05-01-SUMMARY.md`
</output>
